<!DOCTYPE html>
<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Random Team Picker</title>

  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/foundation.css" />
  <script src="js/jquery-latest.min.js"></script>

  <style>
    #values {
      position: relative;
      font-size: 150%;
      text-align: center;
      margin: 0 auto;
      z-index: 0;
    }

    #namesbox {
      min-height: 200px;
      font-size: 20px;
      color: #333;
      resize: none;
      border: 1px solid #F39C12;
    }

    body {
      background: #F1C40F;
    }

    .team {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #333;
    }

    .team h4 {
      margin-bottom: 10px;
    }
  </style>
</head>

<body onload="reset();">

  <div class="row">
    <div class="large-12 columns" style="text-align: center; margin-top: 20px;">
      <h3>Random Team Picker</h3>
      <label>Jumlah Tim:
        <input type="number" id="teamCount" placeholder="Masukkan jumlah tim" />
      </label>
      <label>Nama-nama (masukkan nama dengan setiap baris satu nama):
        <textarea id="namesbox"></textarea>
      </label>
      <button class="success button" id="go" onclick="go();">GO!</button>
    </div>
  </div>

  <div class="row">
    <div class="large-12 columns" id="values"></div>
  </div>

  <script>
    function reset() {
      $("#namesbox").val('');
      $("#values").html('');
    }

    // Fungsi untuk memecah nama menjadi tim secara acak
    function go() {
      var teamCount = parseInt($("#teamCount").val());
      var names = $("#namesbox").val().split("\n").filter(function (name) {
        return name.trim() !== "";
      });

      if (teamCount <= 0 || names.length == 0) {
        alert("Masukkan jumlah tim dan nama yang valid.");
        return;
      }

      // Acak nama
      names.sort(function () {
        return 0.5 - Math.random();
      });

      var teams = [];
      // Inisiasi tim
      for (var i = 0; i < teamCount; i++) {
        teams[i] = [];
      }

      // Masukkan nama ke dalam tim secara bergiliran
      for (var i = 0; i < names.length; i++) {
        teams[i % teamCount].push(names[i]);
      }

      // Tampilkan hasil
      displayTeams(teams);
    }

    // Fungsi untuk menampilkan tim-tim
    function displayTeams(teams) {
      $("#values").html(''); // Reset tampilan

      teams.forEach(function (team, index) {
        var teamDiv = $("<div class='team'></div>");
        teamDiv.append("<h4>Team " + (index + 1) + "</h4>");
        teamDiv.append("<ul></ul>");
        team.forEach(function (name) {
          teamDiv.find("ul").append("<li>" + name + "</li>");
        });
        $("#values").append(teamDiv);
      });
    }
  </script>

</body>

</html>
